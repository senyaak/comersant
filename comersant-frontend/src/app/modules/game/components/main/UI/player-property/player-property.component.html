<!--
Player Property Deck Component Template

Displays owned properties as cards in a hand-like arrangement with hover effects.
Uses existing Angular property components with static wrapper (no board coordinate transformations).

@generated This file was generated by AI (GitHub Copilot)
-->
@if (playerProperties.length > 0) {
<div class="property-deck" [class.minimized]="isMinimized">
  <!-- Minimize/Maximize Button -->
  <button class="minimize-button" (click)="toggleMinimize()"
    [attr.aria-label]="isMinimized ? 'Expand properties' : 'Minimize properties'">
    <span class="minimize-icon">{{ isMinimized ? '▲' : '▼' }}</span>
    <span class="property-count">{{ playerProperties.length }}</span>
  </button>

  <div class="property-cards-container">
    @for (property of playerProperties; track trackByPropertyName($index, property); let i = $index) {
    <div class="property-card" [class.hovered]="hoveredProperty === property" [style.--card-index]="i"
      [style.--total-cards]="playerProperties.length" [style.--bg-color]="property.cellColor"
      (mouseenter)="onPropertyHover(property)" (mouseleave)="onPropertyHover(null)">
      <svg class="property-svg" viewBox="0 0 150 210" preserveAspectRatio="xMidYMid meet">
        @if (isAreaSite(property.cell)) {
        <svg:g app-area-cell [cell]="$any(property.cell)" [orderNumber]="0" [staticMode]="true" />
        } @else {
        <svg:g app-property-cell [cell]="$any(property.cell)" [orderNumber]="0" [staticMode]="true" />
        }
      </svg>
    </div>
    }
  </div>
</div>
}

@if (playerProperties.length === 0) {
<div class="no-properties">
  <p>No properties owned</p>
</div>
}